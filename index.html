<html>
<head>
<title>Eorzea Clock</title>

<meta charset="UTF-8">
<meta http-equiv="content-language" content="ja">

<link href="https://fonts.googleapis.com/css?family=Heebo:700&display=swap" rel="stylesheet">

<style>
	#EorzeaClock {
		font-family: "Heebo", "arial black",sans-serif;
		text-align: left;
		vertical-align: middle;
		overflow: visible;
		max-width: 500%;
		white-space: pre;
		color: rgba(0,0,0,1);
		cursor: move;
	}
</style>

<script>

// Get key "DispSize" from localStorage & Convert type to integer
	var DispSize = localStorage.getItem("DispSize"); //Global variables
	if(DispSize === null) DispSize = 24;
	DispSize = parseInt(DispSize, 10);

// Get key "DispForm" from localStorage & Convert type to integer
	var DispForm = localStorage.getItem("DispForm"); //Global variables
	if(DispForm === null) DispForm = 1;
	DispForm = parseInt(DispForm, 10);

// Get key "DispColor" from localStorage & Convert type to integer
	var DispColor = localStorage.getItem("DispColor"); //Global variables
	if(DispColor === null) DispColor = 1;
	DispColor = parseInt(DispColor, 10);

// Save the key to localStorage
	localStorage.setItem("DispSize", DispSize);
	localStorage.setItem("DispForm", DispForm);
	localStorage.setItem("DispColor", DispColor);

// Set Color Code
	function setColor(ColorType){
		var clock = document.getElementById("EorzeaClock");
		switch (ColorType) {
			case "White":
			case 1:
				clock.style.color          	= "rgba(255, 255, 255, 1)";
				clock.style.backgroundcolor	= "rgba(  0,   0,   0, 0)";
				clock.style.textShadow 		= "  0px   0px .3rem rgba(  0,   0,   0, 1)," +
											  " .5px  .5px  0rem rgba(  0,   0,   0, 1)," +
											  "-.5px  .5px  0rem rgba(  0,   0,   0, 1)," +
											  " .5px -.5px  0rem rgba(  0,   0,   0, 1)," +
											  "-.5px -.5px  0rem rgba(  0,   0,   0, 1)";
				break;
			case "NeonBlue":
			case 2:
				clock.style.color          	= "rgba(255, 255, 255, 1)";
				clock.style.backgroundcolor	= "rgba(255, 255, 255, 0)";
				clock.style.textShadow		= "  0px   0px 15px  rgba(255, 255, 255, .5)," +
											  "  0px   0px .2rem rgba(255, 255, 255, .5)," +
											  "  0px   0px .3rem rgba( 70, 102, 255, 1)," +
											  "  0px   0px .4rem rgba( 70, 102, 255, 1)," +
											  "  0px   0px .5rem rgba( 70, 102, 255, 1)";
				break;
			case "NeonRed":
			case 3:
				clock.style.color          	= "rgba(255, 255, 255, 1)";
				clock.style.backgroundcolor	= "rgba(255, 255, 255, 0)";
				clock.style.textShadow		= "  0px   0px 15px  rgba(255, 255, 255, .5)," +
											  "  0px   0px .2rem rgba(255, 255, 255, .5)," +
											  "  0px   0px .3rem rgba(229,   7,  58, 1)," +
											  "  0px   0px .4rem rgba(229,   7,  58, 1)," +
											  "  0px   0px .5rem rgba(229,   7,  58, 1)";
				break;
			case "Black":
			case 4:
				clock.style.color          	= "rgba(  0,   0,   0, 1)";
				clock.style.backgroundcolor	= "rgba(255, 255, 255, 0)";
				clock.style.textShadow		= "  0px   0px .5rem rgba(255, 255, 255, 1)," +
											  " .6px  .6px  0rem rgba(255, 255, 255, 1)," +
											  "-.6px  .6px  0rem rgba(255, 255, 255, 1)," +
											  " .6px -.6px  0rem rgba(255, 255, 255, 1)," +
											  "-.6px -.6px  0rem rgba(255, 255, 255, 1)";
				break;
			default:
				DispColor = 1;
				DispForm += 1;
				localStorage.setItem("DispColor", DispColor);
				localStorage.setItem("DispForm", DispForm);
				break;
		}
	}

// Eorzea Clock
	var Clicked = false; //Global variables
	function EorzeaClock() {
		var clock = document.getElementById("EorzeaClock");

// Beep Sound
		var Beep_base64 = "UklGRhYOAABXQVZFZm10IBAAAAABAAEAESsAABErAAABAAgAZGF0YcQNAACAgICAgICAgIB9fYCDio2KgHNjXWN6kK26s5ZtQy0zVoq93d26g0ogFjBqpt3z4KpmJgMNQIbN9vrQikMQACBgpuP96rNqJgMKOoDG9vrTkEoTAB1ao+D97bZwLQYKNn3D8/3alk0WABpWnd398L1zMAYGM3rA8P3dmlMaABZQmtr988B6MwoGLXO68P3goFYdABNNk9b688OAOgoDKm227f3jo10gABBGjdP69sqAPQ0DJmqw6v3mqmMjAw1DitD6+s2GQA0DI2Ot5v3qsGYmAw09g8r2+tCNRhAAIF2m4/3ts20qAwo6gMbz+taTTRMAHVqg4P3tunMtBgo2fcDz/dqWUBYAGlOd3f3wvXYzBgYwdr3w/d2dVhoAFlCW2vrzwH02CgYtcLrt/eCgWh0AE0qQ0/rzxoA6CgMqbbPq/eOmYCADEEaN0Pr2yoNADQMjZq3m/eatYyMDDUCGzfb60IpDEAMgYKrj/eqwaiYDCj2Axvb605BGEAAdXaPg/e22bSoDCjaAw/P61pNNEwAaVqDd/fC6cy0GBjN6wPD92ppQFgAWU5ra/fPAejMGBjBzuvD93Z1WGgATTZPW+vPDfTYKAypwtu3946NaHQAQRpDT+vbGgDoKAyZqsOr95qpgIAMQQ4rQ+vbNhkANAyNjreb96q1mIwMNQIPK9vrQikMQACBgpuP96rNqJgMKOoDG8/PQkFAgEypgms3g06pzQyowUH2qxsqzjWZKQE1tjaOmnY2AdnN2fYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDg4aGhoODgIB6dnNwbW1wc3qAhpCaoKOjoJqQg3pqXVNNSlBWY3OAkKCqs7a2sKOWhnZqWlBKSk1WY3CAkJ2qs7a2sKOWhnpqWlBKSk1TYHCAjZ2qs7a2sKaahnpqXVBKSk1TYHCAjZ2qs7a2sKaain1qXVNKSk1TYG19jZqqs7a2sKaain1tXVNKSkpTXW19ipqmsLa2sKqajX1tYFNNSkpTXW19ipqmsLa2s6qdjYBwYFNNSkpQXWp6ipamsLa2s6qdjYBwYFNNSkpQWmp6hpamsLa2s6qdkIBwY1ZNSkpQWmZ6hpajsLa2s62gkIBzY1ZNSkpQWmZ2g5Ojrba2s62gkIBzY1ZNSkpQWmZ2g5OjrbO2s62gk4BzY1ZNSkpNVmNzg5OgrbO2s62jk4N2ZlpQSkpNVmNzgJCgrbO2s62jk4N2ZlpQSkpNVmNzgJCgrbO2trCjloZ2ZlpQSkpNVmNwgJCgqrO2trCjloZ6alpQSkpNU2BwgI2dqrO2trCmloZ6al1QSkpNU2BwgI2dqrO2trCmmop6al1QSkpNU2BtfY2dqrC2trCmmop9bV1TSkpKU11tfYqaprC2trCmmop9bWBTSkpKUF1tfYqaprC2trOqnY2AbWBTTUpKUF1qeoqaprC2trOqnY2AcGBTTUpKUFpqeoaWprC2trOqnZCAcGBWTUpKUFpmeoaWo7C2trOqoJCAcGNWTUpKUFpmdoaWo62ztrOtoJCAc2NWTUpKUFpmdoOTo62ztrOtoJOAc2NWTUpKTVZmc4OToK2ztrOtoJODdmZWTUpKTVZjc4CToK2ztrOto5ODdmZaUEpKTVZjc4CQoK2ztrato5aGdmZaUEpKTVZjcICQnaqztrawo5aGempaUEpKTVNgcICNnaqztrawppaGempdUEpKTVNgcICNnaqztrawppqKempdUEpKTVNgbYCNnaqwtrawppqKfW1dU0pKSlNdbX2KmqawtrawppqKfW1dU0pKSlNdbX2Kmqawtrazqp2NgG1gU01KSlBdanqKmqawtrazqp2NgHBgU01KSlBdanqGlqawtrazqp2NgHBgU01KSlBaanqGlqOwtrazqqCQgHBjVk1KSlBaZnaGlqOts7azraCQgHNjVk1KSlBaZnaDk6Ots7azraCTgHNjVk1KSk1WZnaDk6Cts7azraCTg3NmVk1KSk1WY3OAk6Cts7azraOTg3ZmWlBKSk1WY3OAkKCts7a2raOWhnZmWlBKSk1WY3CAkKCqs7a2sKOWhnpqWlBKSk1TYHCAjZ2qs7a2sKaWhnpqXVBKSk1TYHCAjZ2qs7a2sKaainpqXVBKSk1TYG2AjZ2qs7a2sKaain1tXVNKSkpTXW19ipqmsLa2sKaain1tXVNKSkpTXW19ipqmsLa2sKqdjX1tYFNNSkpQXWp6ipqmsLa2s6qajYBwY1pTU1NdZnB9hpCWmpqak5CKg4B9enp6enp9gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgH5+gIKIi4mAc2NdY3qQrbqzlm1DLTNWir3d3bqDSiAWMGqm3fPgqmYmAw1Ahs32+tCKQxAAIGCm4/3qs2omAwo6gMb2+tOQShMAHVqj4P3ttnAtBgo2fcPz/dqWTRYAGlad3f3wvXMwBgYzesDw/d2aUxoAFlCa2v3zwHozCgYtc7rw/eCgVh0AE02T1vrzw4A6CgMqbbbt/eOjXSAAEEaN0/r2yoA9DQMmarDq/eaqYyMDDUOK0Pr6zYZADQMjY63m/eqwZiYDDT2Dyvb60I1GEAAgXabj/e2zbSoDCjqAxvP61pNNEwAdWqDg/e26cy0GCjZ9wPP92pZQFgAaU53d/fC9djMGBjB2vfD93Z1WGgAWUJba+vPAfTYKBi1wuu394KBaHQATSpDT+vPGgDoKAypts+r946ZgIAMQRo3Q+vbKg0ANAyNmreb95q1jIwMNQIbN9vrQikMQAyBgquP96rBqJgMKPYDG9vrTkEYQAB1do+D97bZtKgMKNoDD8/rWk00TABpWoN398LpzLQYGM3rA8P3amlAWABZTmtr988B6MwYGMHO68P3dnVYaABNNk9b688N9NgoDKnC27f3jo1odABBGkNP69saAOgoDJmqw6v3mqmAgAxBDitD69s2GQA0DI2Ot5v3qrWYjAw1Ag8r2+tCKQxAAIGCm4/3qs2omAwo6gMbz89CQUCATKmCazeDTqnNDKjBQfarGyrONZkpATW2No6adjYB2c3Z9gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIODhoaGg4OAgHp2c3BtbXBzeoCGkJqgo6OgmpCDempdU01KUFZjc4CQoKqztrawo5aGdmpaUEpKTVZjcICQnaqztrawo5aGempaUEpKTVNgcICNnaqztrawppqGempdUEpKTVNgcICNnaqztrawppqKfWpdU0pKTVNgbX2NmqqztrawppqKfW1dU0pKSlNdbX2KmqawtrawqpqNfW1gU01KSlNdbX2Kmqawtrazqp2NgHBgU01KSlBdanqKlqawtrazqp2NgHBgU01KSlBaanqGlqawtrazqp2QgHBjVk1KSlBaZnqGlqOwtrazraCQgHNjVk1KSlBaZnaDk6OttrazraCQgHNjVk1KSlBaZnaDk6Ots7azraCTgHNjVk1KSk1WY3ODk6Cts7azraOTg3ZmWlBKSk1WY3OAkKCts7azraOTg3ZmWlBKSk1WY3OAkKCts7a2sKOWhnZmWlBKSk1WY3CAkKCqs7a2sKOWhnpqWlBKSk1TYHCAjZ2qs7a2sKaWhnpqXVBKSk1TYHCAjZ2qs7a2sKaainpqXVBKSk1TYG19jZ2qsLa2sKaain1tXVNKSkpTXW19ipqmsLa2sKaain1tYFNKSkpQXW19ipqmsLa2s6qdjYBtYFNNSkpQXWp6ipqmsLa2s6qdjYBwYFNNSkpQWmp6hpamsLa2s6qdkIBwYFZNSkpQWmZ6hpajsLa2s6qgkIBwY1ZNSkpQWmZ2hpajrbO2s62gkIBzY1ZNSkpQWmZ2g5OjrbO2s62gk4BzY1ZNSkpNVmZzg5OgrbO2s62gk4N2ZlZNSkpNVmNzgJOgrbO2s62jk4N2ZlpQSkpNVmNzgJCgrbO2tq2jloZ2ZlpQSkpNVmNwgJCdqrO2trCjloZ6alpQSkpNU2BwgI2dqrO2trCmloZ6al1QSkpNU2BwgI2dqrO2trCmmop6al1QSkpNU2BtgI2dqrC2trCmmop9bV1TSkpKU11tfYqaprC2trCmmop9bV1TSkpKU11tfYqaprC2trOqnY2AbWBTTUpKUF1qeoqaprC2trOqnY2AcGBTTUpKUF1qeoaWprC2trOqnY2AcGBTTUpKUFpqeoaWo7C2trOqoJCAcGNWTUpKUFpmdoaWo62ztrOtoJCAc2NWTUpKUFpmdoOTo62ztrOtoJOAc2NWTUpKTVZmdoOToK2ztrOtoJODc2ZWTUpKTVZjc4CToK2ztrOto5ODdmZaUEpKTVZjc4CQoK2ztrato5aGdmZaUEpKTVZjcICQoKqztrawo5aGempaUEpKTVNgcICNnaqztrawppaGempdUEpKTVNgcICNnaqztrawppqKempdUEpKTVNgbYCNnaqztrawppqKfW1dU0pKSlNdbX2KmqawtrawppqKfW1dU0pKSlNdbX2Kmqawtrawqp2NfW1gU01KSlBdanqKmqawtrazqpqNgHBjWlNTU11mcH2GkJaampqTkIqDgH16enp6en2AgICAgICAgICAgICAgICAgICAgICAgExJU1QmAAAASU5GT0lTRlQZAAAAQ29kZXJpdW0gU291bmRFbmdpbmUgNS4wMQA=";
		var BeepSound = new Audio("data:audio/wav;base64," + Beep_base64);

// Mouse Click Event
		clock.onclick = function (evt) {
			if (Clicked) { // Double click (click flag was "Clicked" with True)
					Clicked = false;
					DispSizeMax = 60;
					DispSize += 4;
					if(DispSize == DispSizeMax) BeepSound.play(); // Play sound when display size is maximized
					if(DispSize > DispSizeMax) DispSize = 12;
					localStorage.setItem("DispSize", DispSize);
					return;
			}
			Clicked = true;
			setTimeout(function () {
				if (Clicked) { // Single-click ("Clicked" is not reset by Double-click processing)
					DispColor += 1;
					if(DispForm > 3) DispForm = 1;
					localStorage.setItem("DispForm", DispForm);
					localStorage.setItem("DispColor", DispColor);
				}
				Clicked = false;
			}, 300); // After single click, wait for 300ms double click judgment
		}

// Calculate Clock
		var utcDate = new Date();
		var Weekdays = new Array("Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat");

// Get Local time
		var localYear     = utcDate.getFullYear();
		var localMonth    = (" " + (utcDate.getMonth() + 1)).slice(-2);
		var localDay      = (" " + utcDate.getDate()).slice(-2);
		var localWeek     = Weekdays[utcDate.getDay()];
		var localHours    = (" " + utcDate.getHours()).slice(-2);
		var localMinute   = ("0" + utcDate.getMinutes()).slice(-2);
		var localSeconds  = ("0" + utcDate.getSeconds()).slice(-2);
		var localMilliSeconds  = ("00" + utcDate.getMilliseconds()).slice(-3);

// Get UTC time
		var utcYear     = utcDate.getUTCFullYear();
		var utcMonth    = (" " + (utcDate.getUTCMonth() + 1)).slice(-2);
		var utcDay      = (" " + utcDate.getUTCDate()).slice(-2);
		var utcWeek     = Weekdays[utcDate.getUTCDay()];
		var utcHours    = (" " + utcDate.getUTCHours()).slice(-2);
		var utcMinute   = ("0" + utcDate.getUTCMinutes()).slice(-2);
		var utcSeconds  = ("0" + utcDate.getUTCSeconds()).slice(-2);
		var utcMilliSeconds  = ("00" + utcDate.getUTCMilliseconds()).slice(-3);

// Get Eorzea time
// Eorzea's day is 70 minutes Earth time. Earth 1day = (60min * 24hour) = 1440min : Eorzea 1day = Earth Time 70min
		var eorzeaDate    = Math.floor(utcDate * (1440 / 70));
		var eorzeaHours   = (" " + Math.floor(eorzeaDate / (1000 * 60 * 60) % 24)).slice(-2);
		var eorzeaMinute  = ("0" + Math.floor(eorzeaDate / (1000 * 60) % 60)).slice(-2);
		var eorzeaSeconds = ("0" + Math.floor(eorzeaDate / 1000 % 60)).slice(-2);

// Display Format
		console.log("S" + DispSize + "F" + DispForm + "C" + DispColor); // Debug
		clock.style.fontSize = DispSize + "px";
		setColor(DispColor);
		switch (DispForm) {
			case 1:
				clock.innerHTML = "LT " + localHours + ":" + localMinute + ":" + localSeconds + " / ET " + eorzeaHours + ":" + eorzeaMinute + ":" + eorzeaSeconds;
				break;
			case 2:
				clock.innerHTML = "ST " + utcHours + ":" + utcMinute + ":" + utcSeconds + " / ET " + eorzeaHours + ":" + eorzeaMinute + ":" + eorzeaSeconds;
				break;
			case 3:
				clock.innerHTML = "LT " + localYear + "/" + localMonth + "/" + localDay + " (" + localWeek + ") " + localHours + ":" + localMinute + ":" + localSeconds + " / ET " + eorzeaHours + ":" + eorzeaMinute + ":" + eorzeaSeconds;
				break;
			default:
				DispForm = 1;
				localStorage.setItem("DispForm", DispForm);
				break;
		}
	}

// Start
	function start() {
		setInterval("EorzeaClock();", 60);
		EorzeaClock();
	}
</script>
</head>

<body onload="start();">
	<div id="EorzeaClock"></div>
</body>
</html>
